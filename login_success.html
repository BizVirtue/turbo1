<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Login Success</title>

<style>
    body {
        font-family: Arial, sans-serif;
        padding: 20px;
        text-align: center;
    }
    button {
        margin-top: 20px;
        padding: 12px 20px;
        font-size: 16px;
        cursor: pointer;
    }
</style>

<script>
// ================================
// Extract URL parameters
// ================================
function getParameterByName(name) {
    name = name.replace(/[\[\]]/g, '\\$&');
    const url = window.location.href;
    const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');
    const results = regex.exec(url);

    if (!results) return null;
    if (!results[2]) return "";
    return decodeURIComponent(results[2].replace(/\+/g, ' '));
}

window.onload = function () {

    const email = getParameterByName("email") || "";
    const uid   = getParameterByName("uid") || "";

    document.getElementById("email").innerText = email;
    document.getElementById("uid").innerText = uid;
};

// ===== Return / Close logic =====
function returnToApp() {
    // Try to go back to previous page
    window.history.back();

    // Fallback: try closing tab (may fail on Chrome)
    setTimeout(function () {
        window.close();
    }, 300);
}
</script>
</head>

<body>
    <h2>Login Successful!</h2>

    <p><b>Email:</b> <span id="email"></span></p>
    <p><b>UID:</b> <span id="uid"></span></p>

    <p>Please return to the app.</p>

    <button onclick="returnToApp()">Return to App</button>

    <p style="font-size:12px; color:#666; margin-top:15px;">
        If nothing happens, press your phoneâ€™s BACK button.
    </p>
</body>
</html>
